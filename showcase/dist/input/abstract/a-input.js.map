{"version":3,"sources":["../src/input/abstract/a-input.ts"],"names":[],"mappings":"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","file":"a-input.js","sourcesContent":["import \"../assets/css/input.css!\";\nimport jquery = require('jquery');\nimport 'jquery.maskedinput/src/jquery.maskedinput.js';\nimport {ABaseInput} from \"./a-base-input\";\nimport {IInputAddon} from './../interface/i-input-addon';\n\nenum IAddonPosition {\n    RIGHT, LEFT\n}\n\n/**\n * @classdesc Campo base para inputs com um único addon\n * \n * @export\n * @abstract\n * @extends {ABaseInput}\n * @memberof module:mvcomponents/input\n */\nexport abstract class AInput<T> extends ABaseInput<T> {\n    protected fnDisplayItem:any;\n\n    constructor(tipo: string, valor: string = null) {\n        super('div', '');\n        this.render();\n\n        if ( tipo ) {\n            this.getInput()\n                .attr('type', tipo)\n                .val(valor);\n        }\n    }\n\n    protected render(): this {\n        jquery(this.element)\n            .addClass(\"form-group col-xs-12 col-sm-4 col-md-4\")\n            .append(`\n\t\t\t\t<label class=\"control-label\" for=\"input_${this._uid}\" style=\"display:none\"></label>\n\t\t\t\t<div class=\"col-xs-12 input-group input-group-sm no-addon\">\n\t\t\t\t\t<input class=\"form-control cposi_2 cposis\" id=\"input_${this._uid}\">\n\t\t\t\t</div>\n\t\t\t`);\n        return this;\n    }\n\n    protected getInput(): JQuery {\n        return jquery(this.element).find(\"input:first\");\n    }\n\n    protected insertAddon(method: string, addon: IInputAddon): this {\n        let $container = jquery(this.element).children('div.input-group').removeClass(\"no-addon\");\n        $container[method](addon.element);\n        return this;\n    }\n\n    append(addon: IInputAddon): this {\n        return this.insertAddon('append', addon);\n    }\n\n    prepend(addon: IInputAddon): this {\n        return this.insertAddon('prepend', addon);\n    }\n    \n    /**\n     * Informa o `placeholder` do componente\n     * \n     * @param {string} p_placeholder\n     * @returns {this}\n     */\n    setPlaceholder(p_placeholder: string): this {\n        this.getInput().attr(\"placeholder\", p_placeholder);\n        return this;\n    }\n\n    /**\n     * Obtém o valor atual do componente. \n     * O método `setBlankWhenNull` pode fazer com que a resposta varie   \n     * \n     * @returns {string}\n     */\n    getValue(): T {\n        return this.decode(this.getRawValue());\n    }\n\n    setDisplayItem(display:(item:T)=>string):this{\n        this.fnDisplayItem = display;\n        return this;\n    }\n\n    /**\n     * Atualiza o valor atual do componente\n     * \n     * @param {(string | number)} value\n     * @returns {this}\n     */\n    setValue(value: T): this {\n        if(this.fnDisplayItem){\n            this.setRawValue(this.encode(this.fnDisplayItem(value)));\n        }else{\n            this.setRawValue(this.encode(value));\n        }    \n        return this;\n    }\n\n    protected abstract encode(value: T): string;\n\n    protected abstract decode(value: string): T;\n\n    getRawValue(): string {\n        return this.getInput().val();\n    }\n\n    setRawValue(value: string): this {\n        this.getInput().val(value);\n        return this;\n    } \n}\n"]}