{"version":3,"sources":["../src/container/radio-group.ts"],"names":[],"mappings":"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","file":"radio-group.js","sourcesContent":["import {AVisualComponent} from \"../component/abstract/a-visual-component\";\r\nimport {Validator} from \"../core/validator\";\r\nimport {RadioButton} from \"../button/radio-button\";\r\nimport {IInput} from \"../input/interface/i-input\";\r\nimport {ABaseInput} from \"../input/abstract/a-base-input\";\r\nimport {IContainer} from \"./interface/i-container\";\r\nimport jquery = require(\"jquery\");\r\nimport {EMouseEvent} from \"../component/enum/e-mouse-event\";\r\nimport {EKeyboardEvent} from \"../component/enum/e-keyboard-event\";\r\nimport {EInputEvent} from \"../component/enum/e-input-event\";\r\nimport {IEvent} from \"../component/interface/i-event\";\r\nimport {Validations} from \"../core/validations\";\r\nimport {IAsyncValidation, ISyncValidation} from \"../core/interface/i-validation\";\r\n\r\n/**\r\n * Container que serve de agrupador/gerenciador para um conjunto de [RadioButtons]{@link RadioButton}.\r\n * \r\n * <img src=\"../../doc_assets/radio-group.png\">\r\n * \r\n * @example\r\n * import {Button, RadioButton} from \"mvcomponents/button\";\r\n * import {EMouseEvent} from \"mvcomponents/component\";\r\n * import {EBasicColorStatus} from \"mvcomponents/component\";\r\n * import {TextInput, PassWordInput} from \"mvcomponents/input\";\r\n * import {ViewPager, RadioGroup, Panel, Box} from \"mvcomponents/container\";\r\n * import {LoginForm} from \"./login-form\";\r\n *\r\n * let radioMasculino:RadioButton = new RadioButton(\"Masculino\", \"M\");\r\n * let radioFeminino:RadioButton = new RadioButton(\"Feminino\", \"F\");\r\n *\r\n * let radioGroupSexo: RadioGroup = new RadioGroup(\"Sexo\");\r\n * radioGroupSexo.append(radioMasculino);\r\n * radioGroupSexo.append(radioFeminino);\r\n *\r\n * let boxContainer:Box = new Box();\r\n * boxContainer.append(radioGroupSexo);\r\n * boxContainer.setSize(4);\r\n *\r\n * let page:ViewPager = new ViewPager();\r\n * page.append(boxContainer);\r\n * page.appendTo(\"#conteudo\");\r\n * \r\n * @memberof module:mvcomponents/container\r\n */\r\nexport class RadioGroup<T extends number | string> extends AVisualComponent implements IInput<T>, IContainer<RadioButton>{\r\n\tprivate cleanable: boolean = true;\r\n\tprivate valid: boolean = false;\r\n\tprivate dirty: boolean = false;\r\n\tprivate defaultvalue: T = null;\r\n\tprivate name: string;\r\n\tpublic validator: Validator<T> = new Validator<T>();\r\n\r\n\tconstructor(label: string = \"\") {\r\n\t\tsuper(\"div\", \"<label class=\\\"control-label\\\"></label><div class=\\\"input-group\\\"></div>\");\r\n\t\tthis.setLabel(label);\r\n\r\n\t\tjquery(this.element)\r\n\t\t\t.addClass(\"RadioGroup form-group col-sm-12 col-xs-12\")\r\n\t\t\t.css({ \"margin-bottom\": \"10px\" })\r\n\t\t\t.on(\"change\", \"input\", () => this.validate());\r\n\r\n\t\tthis.validator.onValidate.subscribe(errors => this.onValidate(errors));\r\n\t}\r\n\r\n\tpublic attached() {\r\n\t\tthis.validate();\r\n\t}\r\n\t/**\r\n\t * Verifica se o RadioGroup está valido ou não \r\n\t * @return {boolean}\r\n\t */\r\n\tpublic isValid() {\r\n\t\treturn this.valid;\r\n\t}\r\n\t/**\r\n\t * Valida o RadioGroup \r\n\t * @return {Promise}\r\n\t */\r\n\tpublic validate() {\r\n\t\treturn this.validator.validate(this.getValue());\r\n\t}\r\n\r\n\tprotected onValidate(errors: string[]) {\r\n\t\tlet isValid = this.valid = errors.length === 0;\r\n\t\tthis.markInvalid(!isValid);\r\n\t}\r\n\r\n\tpublic markInvalid(invalid: boolean):this {\r\n\t\tjquery(this.element)[invalid && this.isDirty() ? \"addClass\" : \"removeClass\"](\"is-invalid has-error\");\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Verifica se o RadioGroup está marcado com usado ou não \r\n\t * @return {boolean}\r\n\t */\r\n\tpublic isDirty() {\r\n\t\treturn this.dirty;\r\n\t}\r\n\r\n\t/**\r\n\t * @param label {string}\r\n\t * @return {RadioGroup}\r\n\t */\r\n\tpublic setLabel(label: string): this {\r\n\t\tjquery(this.element).find(\"label\").html(label);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic setDirty(dirty: boolean): this {\r\n\t\tthis.dirty = dirty;\r\n\t\t//this.markInvalid(!this.dirty);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @param name {string}\r\n\t * @return {RadioGroup}\r\n\t */\r\n\tpublic setName(name: string): this {\r\n\t\tthis.name = name;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic getName(): string {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\tpublic setDefaultValue(value: T): this {\r\n\t\tthis.defaultvalue = value;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic getDefaultValue(): T {\r\n\t\treturn this.defaultvalue;\r\n\t}\r\n\r\n\tpublic reset(): this {\r\n\t\treturn this.setValue(this.getDefaultValue());\r\n\t}\r\n\r\n\tpublic setCleanable(cleanable: boolean): this {\r\n\t\tthis.cleanable = cleanable;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic isCleanable() {\r\n\t\treturn this.cleanable;\r\n\t}\r\n\r\n\tprivate insertElement(item: RadioButton, method: string): void {\r\n\t\titem.setName(this.name);\r\n\t\tjquery(this.element).find(\".input-group:first\")[method](item.element);\r\n\t}\r\n\r\n\t/**\r\n\t * @param item {RadioButton}\r\n\t * @return {this}\r\n\t */\r\n\tpublic append(item: RadioButton): this {\r\n\t\tthis.insertElement(item, \"append\");\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @param item {RadioButton}\r\n\t * @return {this}\r\n\t */\r\n\tpublic prepend(item: RadioButton): this {\r\n\t\tthis.insertElement(item, \"append\");\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @return {T}\r\n\t */\r\n\tpublic getValue(): T {\r\n\t\treturn jquery(this.element).find(\"input:checked\").val() || null;\r\n\t}\r\n\r\n\tpublic getRawValue(): string {\r\n\t\tlet value = this.getValue();\r\n\t\treturn value && value.toString();\r\n\t}\r\n\r\n\t/**\r\n\t * @param value {T}\r\n\t * @return {RadioGroup}\r\n\t */\r\n\tpublic setValue(value: T): this {\r\n\t\tlet $el = jquery(this.element);\r\n\t\t$el.find(\"input\")\r\n\t\t\t.removeAttr(\"checked\");\r\n\t\t$el\r\n\t\t\t.find(`input[value=\"${value}\"]`)\r\n\t\t\t.prop(\"checked\", true);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic setDisabled(disabled: boolean): this {\r\n\t\tjquery(this.element)\r\n\t\t\t.prop(\"disabled\", disabled)\r\n\t\t\t.find(\"input\")\r\n\t\t\t.prop(\"disabled\", disabled);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @param enable {boolean}\r\n\t * @return {RadioGroup}\r\n\t */    \r\n\tpublic setEnable(enable: boolean): this {\r\n\t\tthis.setDisabled(!enable);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic isDisabled(): boolean {\r\n\t\treturn jquery(this.element).prop(\"disabled\");\r\n\t}\r\n\r\n\tpublic focus(): this {\r\n\t\tjquery(this.element).find(\"input:first\").focus();\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Registra um novo ouvinte à classe\r\n\t * \r\n\t * @param {(EMouseEvent | EKeyboardEvent | EInputEvent)} type\r\n\t * @param {Function} event_fn\r\n\t */\r\n\tpublic addEvent(type: EMouseEvent | EKeyboardEvent | EInputEvent, event_fn: (eventObject?: JQueryEventObject) => any): void {\r\n\t\tsuper.addEvent(<any>type, event_fn);\r\n\t}\r\n\r\n\t/**\r\n\t * Emite um evento oriundo da interface\r\n\t * \r\n\t * @protected\r\n\t * @param {(EMouseEvent | EKeyboardEvent | EInputEvent)} type\r\n\t * @param {...any[]} params\r\n\t * @returns {IEvent}\r\n\t */\r\n\tpublic fireEvent(type: EMouseEvent | EKeyboardEvent | EInputEvent, ...params: any[]): IEvent {\r\n\t\treturn super.fireEvent(<any>type, params);\r\n\t}\r\n\r\n\t/**\r\n\t * Marca/desmarca o campo como requerido (apenas efeito visual). \r\n\t * @param required {boolean}\r\n\t * @return {boolean}\r\n\t */\r\n\tpublic markRequired(required:boolean):this{\r\n\t\tABaseInput.prototype.markRequired.apply(this,[required]);\r\n\t\treturn this;        \r\n\t}\r\n\r\n\t/**\r\n\t * Marca o campo como requerido e adicionada validação de notEmpty para o campo. \r\n\t * @param required {boolean}\r\n\t * @return {RadioGroup}\r\n\t */\r\n\tpublic setRequired(required:boolean):this{\r\n\t\tABaseInput.prototype.setRequired.apply(this,[required]);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Verifica se o campo foi marcado como requerido.\r\n\t * @return {boolean}\r\n\t */     \r\n\tpublic getRequired():boolean{\r\n\t\treturn this.hasStyleName(\"is-required\");\r\n\t}\r\n\t\r\n\t/**\r\n\t * Atalho para adição de validações. \r\n\t * @param validations {ISyncValidation}\r\n\t * @return {RadioGroup}\r\n\t */ \r\n\tpublic addValidation(...validations: ISyncValidation<T>[]):this{\r\n\t\tthis.validator.add(...validations);\r\n\t\treturn this;\r\n\t}\r\n}\r\n"]}