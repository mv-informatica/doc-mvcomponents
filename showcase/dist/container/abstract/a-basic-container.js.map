{"version":3,"sources":["../src/container/abstract/a-basic-container.ts"],"names":[],"mappings":"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","file":"a-basic-container.js","sourcesContent":["import {AVisualComponent} from \"../../component/abstract/a-visual-component\";\r\nimport {IContainer} from \"../interface/i-container\";\r\nimport {IBlockContainer} from \"../interface/i-block-container\";\r\nimport {ICustomComponent} from \"../../core/interface/i-custom-component\";\r\nimport {EventEmitter, IEventEmitterError} from \"../../core/event-emitter\";\r\nimport {IRenderable} from \"../../core/interface/i-renderable\";\r\nimport {AWidget} from \"../../widget/abstract/a-widget\";\r\nimport jquery = require(\"jquery\");\r\n/**\r\n * Classe genérica que representa um container básico\r\n * @memberof module:mvcomponents/container\r\n */\r\nexport abstract class ABasicContainer<T extends IRenderable> extends AVisualComponent implements IContainer<T> {\r\n\r\n\tprotected isAttached: boolean;\r\n\tpublic onAttached: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n\tprotected addBlockContainer():this{\r\n\t\tif(!jquery(this.element).hasClass(\"RadioGroup\")){\r\n\t\t\tif(jquery(this.element).children(\".blockContainer\").length === 0){\r\n\t\t\t\tjquery(this.element).append('<div class=\"blockContainer\" style=\"display:none;z-index:2;width:100%;height: 100%;position: absolute;top: 0px;left: 0px;\"></div>'); \r\n\t\t\t};\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tprotected get blockContainer():IBlockContainer{        \r\n\t\treturn {\r\n\t\t\tgetElement:()=>{\r\n\t\t\t\tthis.addBlockContainer();\r\n\t\t\t\treturn jquery(this.element).children(\".blockContainer:first\")[0];\r\n\t\t\t}\r\n\t\t\t,addEvent:(p_event:string, handler: (eventObject?: JQueryEventObject) => any)=>{\r\n\t\t\t\tjquery(this.blockContainer.getElement()).on(p_event, handler);\r\n\t\t\t}\r\n\t\t\t,prepend:(p_element:AWidget)=>{\r\n\t\t\t\tthis.addBlockContainer();\r\n\t\t\t\tjquery(this.blockContainer.getElement()).prepend(jquery(p_element.element));\r\n\t\t\t}\r\n\t\t\t,append:(p_element:AWidget)=>{\r\n\t\t\t\tthis.addBlockContainer();\r\n\t\t\t\tjquery(this.blockContainer.getElement()).append(jquery(p_element.element));\r\n\t\t\t}           \r\n\t\t}\r\n\t}\r\n\r\n\tprotected resolveAttachement(renderable: T): void {\r\n\t\tif (renderable.attached) {\r\n\t\t\tif (this.isAttached) {\r\n\t\t\t\trenderable.attached();\r\n\t\t\t} else {\r\n\t\t\t\tthis.onAttached.once(() => renderable.attached());\r\n\t\t\t};\r\n\t\t\tif(renderable.rendered){\r\n\t\t\t   renderable.rendered();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected insertItem(item: T, method: string): void {\r\n\t\tjquery(this.element)[method](item.element);\r\n\t\tthis.resolveAttachement(item);\r\n\t}\r\n\t\r\n\tappend(item: T): this {\r\n\t\tthis.insertItem(item, 'append');\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprepend(item: T): this {\r\n\t\tthis.insertItem(item, 'prepend');\r\n\t\treturn this;\r\n\t}\r\n\r\n\tsetEnable(on: boolean): this {        \r\n\t\tlet elemtJQ = jquery(this.element);\r\n\t\tif (!elemtJQ.hasClass(\"RadioGroup\")) {\r\n\t\t\tif (on) {\r\n\t\t\t\tjquery(this.blockContainer.getElement()).hide();\r\n\t\t\t} else {\r\n\t\t\t\tjquery(this.blockContainer.getElement()).show();\r\n\t\t\t};\r\n\t\t};\r\n\t\tif (on) {            \r\n\t\t\telemtJQ.css(\"opacity\", 1).removeClass(\"Disabled\").removeAttr(\"disabled\");\r\n\t\t} else {\r\n\t\t\telemtJQ.css(\"opacity\", 0.6).addClass(\"Disabled\").attr(\"disabled\", \"true\");\r\n\t\t};\r\n\t\treturn this;\r\n\t}\r\n\r\n\tisEnable(): boolean {\r\n\t\treturn !jquery(this.element).hasClass(\"Disabled\");\r\n\t}\r\n\r\n\tattached(): void {\r\n\t\tthis.onAttached.emit(null).done(() => this.isAttached = true);\r\n\t}\r\n}\r\n"]}