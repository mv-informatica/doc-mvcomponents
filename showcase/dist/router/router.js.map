{"version":3,"sources":["../src/router/router.ts"],"names":[],"mappings":";;;IAUA;QAAA;YACS,WAAM,GAAY,EAAE,CAAC;QAiC9B,CAAC;QA/BO,qBAAI,GAAX,UAAY,KAAY;YACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACxB,MAAM,CAAC,KAAK,CAAC,IAAI,EAAC,UAAC,GAAgB;gBAClC,EAAE,CAAA,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAA,CAAC;oBAC5B,EAAE,CAAA,CAAC,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,CAAA,CAAC;wBAC1C,EAAE,CAAA,CAAC,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAA,CAAC;4BACpD,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,SAAS,EAAE,CAAC;wBACpD,CAAC;wBACD,EAAE,CAAA,CAAC,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAA,CAAC;4BAClD,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;4BACzD,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,OAAO,EAAE,CAAC;wBAClD,CAAC;oBACF,CAAC;oBACD,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;oBAC9C,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,GAAG,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;oBAC5D,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,EAAC,GAAG,CAAC,MAAM,CAAC,CAAC;oBACjE,KAAK,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,CAAC;oBACxE,EAAE,CAAA,CAAC,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAA,CAAC;wBACnD,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,QAAQ,EAAE,CAAC;oBACnD,CAAC;gBACF,CAAC;YACF,CAAC,CAAC,CAAC;YACH,MAAM,CAAC,KAAK,CAAC;gBACZ,QAAQ,EAAC,IAAI;aACb,CAAC,CAAC;QAMJ,CAAC;QACF,aAAC;IAAD,CAlCA,AAkCC,IAAA;IAlCY,wBAAM;IAmCR,QAAA,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC","file":"router.js","sourcesContent":["import {Box} from \"../container/box\";\r\nimport pagejs = require(\"page\");\r\n\r\nexport interface IRoute{\r\n\tpath: string;\r\n\tmodule: any;\r\n\trouterView: string;\r\n\trouterViewInstance?:Box;\r\n}\r\n\r\nexport class Router{\r\n\tprivate routes:IRoute[] = [];\r\n\r\n\tpublic push(route:IRoute){\r\n\t\tthis.routes.push(route);\r\n\t\tpagejs(route.path,(ctx:{params:any}) => {\r\n\t\t\tif(route.routerViewInstance){\r\n\t\t\t\tif(route.routerViewInstance[\"lastModule\"]){\r\n\t\t\t\t\tif(route.routerViewInstance[\"lastModule\"].onDestroy){\r\n\t\t\t\t\t\troute.routerViewInstance[\"lastModule\"].onDestroy();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(route.routerViewInstance[\"lastModule\"].destroy){\r\n\t\t\t\t\t\troute.routerViewInstance[\"lastModule\"].setVisible(false);\r\n\t\t\t\t\t\troute.routerViewInstance[\"lastModule\"].destroy();\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\troute.routerViewInstance[\"lastModule\"] = null;\r\n\t\t\t\troute.routerViewInstance[\"lastModule\"] = new route.module();\r\n\t\t\t\tObject.assign(route.routerViewInstance[\"lastModule\"],ctx.params);\r\n\t\t\t\troute.routerViewInstance.append(route.routerViewInstance[\"lastModule\"]);\r\n\t\t\t\tif(route.routerViewInstance[\"lastModule\"].onCreate){\r\n\t\t\t\t\troute.routerViewInstance[\"lastModule\"].onCreate();\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t});\r\n\t\tpagejs.start({\r\n\t\t\thashbang:true\r\n\t\t});\r\n\t\t/*\r\n\t\tpagejs(\"/\", () => {\r\n\t\t\tconsole.log(\"nao fazer nada!!!\");\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n}\r\nexport var router = new Router();\r\n"]}