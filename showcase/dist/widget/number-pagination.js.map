{"version":3,"sources":["../src/widget/number-pagination.ts"],"names":[],"mappings":";;;IAgCA;QAAsC,4CAAG;QAGxC,0BAAY,MAAwB;YAApC,YACC,iBAAO,SASP;YAZM,kBAAY,GAAG,IAAI,4BAAY,EAAU,CAAC;YAIhD,KAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YACjB,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAC;gBAC9B,IAAI,EAAC,CAAC;gBACL,WAAW,EAAC,CAAC;gBACb,YAAY,EAAC,CAAC;aACf,EAAC,MAAM,CAAC,CAAC;YACV,KAAI,CAAC,OAAO,EAAE,CAAC;YACf,IAAI,MAAM,GAAG,KAAI,CAAC;;QACnB,CAAC;QAOM,yCAAc,GAArB,UAAsB,WAAkB;YACvC,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC;YACtC,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAOM,0CAAe,GAAtB,UAAuB,YAAmB;YACzC,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,YAAY,CAAC;YACxC,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAOM,mCAAQ,GAAf,UAAgB,KAAY;YAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;YAC1B,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAOM,kCAAO,GAAd,UAAe,IAAW;YACzB,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC;YACxB,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAKM,kCAAO,GAAd;YACC,IAAI,MAAM,GAAG,IAAI,CAAC;YAElB,IAAI,UAAU,GAAG,QAAQ,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,GAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,GAAC,EAAE,CAAC,GAAC,CAAC,CAAC;YAChF,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;iBACf,IAAI,CAAC,uBAAuB,CAAC;iBAC7B,MAAM,EAAE,CAAC;YACX,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,8DAA0D,CAAC,CAAC;YAE/E,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;iBACrB,IAAI,CAAC,uBAAuB,CAC5B;iBACA,cAAc,CAAC;gBACf,UAAU,EAAE,UAAU;gBACrB,YAAY,EAAE,MAAM,CAAC,MAAM,CAAC,YAAY;gBACxC,SAAS,EAAC,MAAM,CAAC,MAAM,CAAC,IAAI;gBAC5B,WAAW,EAAE,UAAU,KAAW,EAAE,IAAW;oBAC/C,EAAE,CAAA,CAAC,IAAI,KAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA,CAAC;wBAC7B,MAAM,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC;wBAC1B,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBAC9C,CAAC;gBACF,CAAC;gBACA,KAAK,EAAC,UAAU;gBAChB,IAAI,EAAC,UAAU;gBACf,IAAI,EAAC,SAAS;gBACd,IAAI,EAAC,QAAQ;aACd,CAAC,CAAC;QACL,CAAC;QACF,uBAAC;IAAD,CAtFA,AAsFC,CAtFqC,SAAG,GAsFxC;IAtFY,4CAAgB","file":"number-pagination.js","sourcesContent":["/**\r\n * @version 0.0.1\r\n * @description Component de Paginação\r\n * @author hugo.martins@mv.com.br\r\n */\r\n\r\nimport {Box} from \"../container/box\";\r\nimport {EventEmitter} from \"../core/event-emitter\";\r\nimport _jq = require(\"jquery\");\r\nimport \"twbs-pagination\";\r\n\r\nexport interface IPaginationConfig{\r\n\tpage?:number;\r\n\trowsPerPage?:number;\r\n\tcount:number;\r\n\tvisiblePages?:number;\r\n}\r\n\r\n/**\r\n * Componente de paginação numérico.\r\n * \r\n * <img src=\"../../doc_assets/number-pagination_example.png\">\r\n * \r\n * @example\r\n * let numPag = new NumberPagination({count:50});\r\n * let box = new Box();\r\n * box.append(numPag);\r\n * \r\n * @export\r\n * @extends {Box}\r\n * @memberof module:mvcomponents/widget\r\n */\r\nexport class NumberPagination extends Box{\r\n\tpublic onSelectPage = new EventEmitter<number>();\r\n\tprivate config:IPaginationConfig;\r\n\tconstructor(config:IPaginationConfig){\r\n\t\tsuper();\r\n\t\tthis.setSize(12);\r\n\t\tthis.config = Object.assign({},{\r\n\t\t\tpage:1\r\n\t\t\t,rowsPerPage:5\r\n\t\t\t,visiblePages:4\r\n\t\t},config);\r\n\t\tthis.refresh();\r\n\t\tlet _this_ = this;\r\n\t}\r\n\t/**\r\n\t * Informa o número de registros por página.\r\n\t * \r\n\t * @param {number} rowsPerPage\r\n\t * @return {NumberPagination}\r\n\t */\r\n\tpublic setRowsPerPage(rowsPerPage:number):this{\r\n\t\tthis.config.rowsPerPage = rowsPerPage;\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * Informa o número de páginas visíveis.\r\n\t * \r\n\t * @param {number} visiblePages\r\n\t * @return {NumberPagination}\r\n\t */\r\n\tpublic setVisiblePages(visiblePages:number):this{\r\n\t\tthis.config.visiblePages = visiblePages;\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * Informa o número total de registros.\r\n\t * \r\n\t * @param {number} visiblePages\r\n\t * @return {NumberPagination}\r\n\t */\t\r\n\tpublic setCount(count:number):this{\r\n\t\tthis.config.count = count;\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * Informa a página atual.\r\n\t * \r\n\t * @param {number} visiblePages\r\n\t * @return {NumberPagination}\r\n\t */\t\t\r\n\tpublic setPage(page:number):this{\r\n\t\tthis.config.page = page;\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * Atualiza visualmente o componente exibindo as configurações que foram modificadas.\r\n\t *\r\n\t */\t\r\n\tpublic refresh(){\r\n\t\tlet _this_ = this;\r\n\t\t// tslint:disable-next-line:prefer-template\r\n\t\tlet totalPages = parseInt((_this_.config.count/_this_.config.rowsPerPage)+\"\")+1;\r\n\t\t_jq(this.element)\r\n\t\t\t.find(\".pagination-box:first\")\r\n\t\t\t.remove();\r\n\t\t_jq(this.element).append(`<ul class=\"pagination-box\" style=\"margin-top: 0px\"></ul>`);\r\n\r\n\t\t(<any>_jq(this.element)\r\n\t\t\t.find(\".pagination-box:first\")\r\n\t\t\t)\r\n\t\t\t.twbsPagination({\r\n\t\t\t\ttotalPages: totalPages\r\n\t\t\t\t,visiblePages: _this_.config.visiblePages\r\n\t\t\t\t,startPage:_this_.config.page\r\n\t\t\t\t,onPageClick: function (event:Event, page:number) {\r\n\t\t\t\t\tif(page!==_this_.config.page){\r\n\t\t\t\t\t\t_this_.config.page = page;\r\n\t\t\t\t\t\t_this_.onSelectPage.emit(_this_.config.page);\r\n\t\t\t\t\t}                 \r\n\t\t\t\t}\r\n\t\t\t\t,first:\"Primeira\"\r\n\t\t\t\t,prev:\"Anterior\"\r\n\t\t\t\t,next:\"Próxima\"\r\n\t\t\t\t,last:\"Última\"\r\n\t\t\t});\r\n\t}\t\r\n}\r\n"]}