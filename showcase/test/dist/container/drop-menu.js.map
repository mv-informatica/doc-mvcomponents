{"version":3,"sources":["../src/container/drop-menu.ts"],"names":[],"mappings":";;;IA4BA;QAA8B,oCAAsB;QAInD,kBAAY,KAAY;YAAxB,YACC,kBAAM,IAAI,EAAE,6KAEY,KAAK,6PAM5B,CAAC,SAGF;YAFA,KAAI,CAAC,IAAI,GAAG,UAAU,CAAC;YACvB,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;;QAC9B,CAAC;QAES,6BAAU,GAApB,UAAqB,IAAgB,EAAE,MAAc;YACpD,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YACjB,IAAI,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;YACxB,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACxB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;YAC9D,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;QAEM,2BAAQ,GAAf;YACC,IAAI,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACpC,IAAI,cAAc,GAAG;gBACpB,QAAQ,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,MAAM,EAAE,CAAC;gBAC/C,QAAQ,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,MAAM,EAAE,CAAC;YAClD,CAAC,CAAC;YACF,QAAQ;iBACN,QAAQ,CAAC,wBAAwB,EAAE,OAAO,EAAE,cAAc,CAAC;iBAC3D,QAAQ,CAAC,wBAAwB,EAAE,OAAO,EAAE,cAAc,CAAC;iBAC3D,QAAQ,CAAC,0BAA0B,EAAE,OAAO,EAAE,cAAc,CAAC,CAAC;YAChE,iBAAM,QAAQ,WAAE,CAAC;QAClB,CAAC;QAOM,iCAAc,GAArB,UAAsB,YAAwB;YAC7C,IAAI,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACpC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,IAAI,GAAG,CAAC,YAAY,KAAK,MAAM,GAAG,UAAU,GAAG,QAAQ,CAAC,CAAC;YAC9D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC7B,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAKM,+BAAY,GAAnB;YACC,IAAI,EAAE,GAAG,MAAM,CAAC,sDAAsD,CAAC,CAAC;YACxE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;YAChE,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAMM,2BAAQ,GAAf,UAAgB,KAAwB;YACvC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;iBAClB,IAAI,CAAC,wBAAwB,CAAC;iBAC9B,WAAW,CAAO,kBAAQ,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;iBACjD,QAAQ,CAAC,SAAO,wCAAiB,CAAC,KAAK,CAAC,CAAC,WAAW,EAAI,CAAC,CAAC;YAC5D,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAKM,2BAAQ,GAAf,UAAgB,KAAa;YAC5B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,yCAAyC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACjF,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEF,eAAC;IAAD,CAjFA,AAiFC,CAjF6B,wBAAU,GAiFvC;IAjFY,4BAAQ","file":"drop-menu.js","sourcesContent":["import {AContainer} from \"../container/abstract/a-container\";\r\nimport {LinkButton} from \"../button/link-button\";\r\nimport {AButton} from \"../button/abstract/a-button\"; \r\nimport {IDropMenu} from \"./interface/i-drop-menu\";\r\nimport {EBasicColorStatus} from \"../component/enum/e-basic-color-status\";\r\nimport jquery = require(\"jquery\");\r\n/**\r\n * <img src=\"../../doc_assets/container_dropmenu_example_1.png\">\r\n * Menu contextual interativo que apresenta as opções acima ou abaixo do botão principal do menu.\r\n * \r\n * @memberof module:mvcomponents/container\r\n * \r\n * @example\r\n * \r\n * let panel = new Panel(\"DropMenu\");\r\n * let menu = new DropMenu(\"Bart Simpson\");\r\n *\r\n * let btnPerfil = new LinkButton(\"Perfil\").setIcon(\"glyphicon glyphicon-user\");\r\n * menu.append(btnPerfil);\r\n * let btnMensagens = new LinkButton(\"Mensagens\").setIcon(\"glyphicon glyphicon-envelope\");\r\n * menu.append(btnMensagens);\r\n *\r\n * let btnSair = new LinkButton(\"Sair\").setIcon(\"glyphicon glyphicon-off\");\r\n * menu.addSeparator();\r\n * menu.append(btnSair);\r\n * panel.append(new Form().append(menu));\r\n * \r\n */\r\nexport class DropMenu extends AContainer<LinkButton> implements IDropMenu {\r\n\r\n\tprivate type:string;\r\n\r\n\tconstructor(title:string) {\r\n\t\tsuper(\"li\", `\r\n\t\t\t<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t<span class=\"title\">${title}</span> <span class=\"caret\"></span>\r\n\t\t\t</a>\r\n\t\t\t<ul class=\"dropdown-menu\">\r\n\t\t\t\t\r\n\t\t\t</ul>\r\n\t\t\t<div class='dropmenu-closer' style='position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 999;display:none;'></div>\r\n\t\t`);\r\n\t\tthis.type = \"dropdown\";\r\n\t\tthis.addStyleName(this.type);\r\n\t}\r\n\r\n\tprotected insertItem(item: LinkButton, method: string): void {\r\n\t\titem.setSize(12);\r\n\t\tlet li = jquery(\"<li>\");\r\n\t\tli.append(item.element);\r\n\t\tjquery(this.element).find(\".dropdown-menu:first\")[method](li);\r\n\t\tthis.resolveAttachement(item);\r\n\t}\r\n\r\n\tpublic attached(): void {\r\n\t\tlet dropmenu = jquery(this.element);\r\n\t\tlet toggleFunction = () => {\r\n\t\t\tdropmenu.find(\".dropdown-menu:first\").toggle();\r\n\t\t\tdropmenu.find(\".dropmenu-closer:first\").toggle();\r\n\t\t};\r\n\t\tdropmenu\r\n\t\t\t.delegate(\".dropdown-toggle:first\", \"click\", toggleFunction)\r\n\t\t\t.delegate(\".dropmenu-closer:first\", \"click\", toggleFunction)\r\n\t\t\t.delegate(\".dropdown-menu:first > *\", \"click\", toggleFunction);\r\n\t\tsuper.attached();\r\n\t}\r\n\t/**\r\n\t * Permite configurar a orientação do menu para que apareça acima ou abaixo do dropmenu\r\n\t * - \"DOWN\": posiciona abaixo\r\n\t * - \"UP\": posiciona acima\r\n\t * @param {string} orientantion - \"DOWN\"|\"UP\" orientação do menu\r\n\t */\r\n\tpublic setOrientation(orientantion:\"DOWN\"|\"UP\"): this {\r\n\t\tlet dropmenu = jquery(this.element);\r\n\t\tthis.removeStyleName(this.type);\r\n\t\tthis.type = (orientantion === \"DOWN\" ? \"dropdown\" : \"dropup\");\r\n\t\tthis.addStyleName(this.type);\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * Adiciona um separador visual entre os botões do dropmenu\r\n\t * @return {DropMenu}\r\n\t */\r\n\tpublic addSeparator(): this {\r\n\t\tlet li = jquery(\"<li class=\\\"col-xs-12 divider\\\" role=\\\"separator\\\" >\");\r\n\t\tjquery(this.element).find(\".dropdown-menu:first\")[\"append\"](li);\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * Informa o tipo do botão\r\n\t * @param  {EBasicColorStatus} color\r\n\t * @return {DropMenu}\r\n\t */\r\n\tpublic setColor(color: EBasicColorStatus): this {\r\n\t\tjquery(this.element)\r\n\t\t\t.find(\".dropdown-toggle:first\")\r\n\t\t\t.removeClass((<any>AButton).prototype.getColors())\r\n\t\t\t.addClass(`btn-${EBasicColorStatus[color].toLowerCase()}`);\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * @param title {string}\r\n\t * @return {DropMenu}\r\n\t */\r\n\tpublic setTitle(title: string): this {\r\n\t\tjquery(this.element).find(\".dropdown-toggle:first span.title:first\").text(title);\r\n\t\treturn this;\r\n\t}\r\n\r\n}\r\n"]}